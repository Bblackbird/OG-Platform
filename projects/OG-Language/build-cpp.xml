<project name="build-cpp">

	<property file="${basedir}/build.properties" />
	<property environment="env" />
	<property file="${solution.dir}/build.properties" />

	<!-- Use Visual Studio if it's available -->
	<available property="cpp.environment" value="msvc" file="msbuild.exe" filepath="${env.Path}" />
	<!-- Default to POSIX-style tools and Ant's built in tasks -->
	<property name="cpp.environment" value="posix" />

	<import file="build-${cpp.environment}.xml" />

	<target name="clean-src" description="--> Remove the autogenerated files (.gitignore'd ones)">
		<subant genericantfile="${basedir}/../../../common/gitignore.xml">
			<dirset dir="${basedir}" />
		</subant>
	</target>

	<target name="dist" depends="build-cpp-impl.dist">
		<mkdir dir="${dist.dir}/include/${ant.project.name}" />
		<copy todir="${dist.dir}/include/${ant.project.name}">
			<fileset dir="${basedir}">
				<include name="*.h" />
			</fileset>
		</copy>
	</target>

</project>
